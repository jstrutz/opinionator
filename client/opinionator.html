<head>
  <title>opinionator</title>
</head>

<body>
  <header><h1>OPINIONATOR</h1></header>
  {{> connection }}
  <section class="question">
    <span class="quo">&ldquo;</span>
    Which Diablo II boss has the best haircut?
    <span class="quo">&rdquo;</span>
  </section>
  {{> choices  }}
  {{> ranks }}
  <div class="toggle-ranks-container">
    <a class="toggle-ranks">Toggle Rankings</a>
  </div>
  <footer></footer>
</body>

<template name="connection">
  <div class="connection {{ state }}">{{label}}</div>
</template>

<template name="choices">
  <section class="choices">
    {{#if has_contenders}}
    {{#with contender0}}
    <div class="choice" data-choice="{{_id}}">
      <p>{{text}}</p>
    </div>
    {{/with}}

    <span class="versus">or</span>

    {{#with contender1}}
    <div class="choice" data-choice="{{_id}}">
      <p>{{text}}</p>      
    </div>
    {{/with}}
    {{else}}
      <span class="Loading">Loading</span>
    {{/if}}

  </section>
</template>

<template name="ranks">
  <section class="ranks">
    <ol>
    {{#each contenders}}
      {{#with this}}
        <li class="rank">{{text}} <span>{{rating}}</span></li>
      {{/with}}
    {{/each}}
    </ol>

  </section>
</template>
